<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">
<h:head>
     <h:outputStylesheet library="css" name="table-style.css"/>
</h:head>

<h:body>
       <h:form>
       <p>Subject</p>
       <h:selectOneMenu value="#{schoolBean.filterBySubject}">
           <f:selectItems value="#{schoolBean.subjectList}"/>
           <f:ajax event="change" listener="#{schoolBean.updateFiler}"  render='results'/>
       </h:selectOneMenu>

       <h:dataTable id='results' value="#{schoolBean.selectedSchoolData}" var="school"
               styleClass="order-table"
               headerClass="order-table-header" rowClasses="order-table-odd-row,order-table-even-row">

           <h:column>
               <f:facet name="header">School</f:facet>#{school.schoolName}
           </h:column>
           <h:column>
               <h:outputText value="#{school.latestYear3}">
                   <f:convertNumber pattern="#0.00"/>
               </h:outputText>
               <f:facet name="header">Y3</f:facet>
           </h:column>
           <h:column>

               <f:facet name="header">Y5</f:facet>#{school.latestYear5}
           </h:column>
           <h:column>

               <f:facet name="header">Y7</f:facet>#{school.latestYear7}
           </h:column>
           <h:column>

               <f:facet name="header">Y9</f:facet>#{school.latestYear9}
           </h:column>
           <h:column>

               <f:facet name="header">Row Gain Y3 to Y5</f:facet>#{school.rawGain}
           </h:column>
           <h:column>

               <f:facet name="header">Factored Gain Y3 to Y5</f:facet>#{school.factoredGain}
           </h:column>
           <h:column>

               <f:facet name="header">GLG</f:facet>#{school.glg}
           </h:column>
       </h:dataTable>
       </h:form>
</h:body>
</html>